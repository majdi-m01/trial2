{
  "version": 4,
  "terraform_version": "1.13.1",
  "serial": 96,
  "lineage": "7f5d31d5-4f13-c3e2-3028-e00cf6aad409",
  "outputs": {
    "client_subnet_ids": {
      "value": {
        "dc1": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet/subnets/client-dc1-subnet",
        "dc2": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet/subnets/client-dc2-subnet"
      },
      "type": [
        "object",
        {
          "dc1": "string",
          "dc2": "string"
        }
      ]
    },
    "client_vnet_ids": {
      "value": {
        "dc1": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet",
        "dc2": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet"
      },
      "type": [
        "object",
        {
          "dc1": "string",
          "dc2": "string"
        }
      ]
    },
    "clients_vmss_ids": {
      "value": {
        "dc1": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-dc1-clients-vmss",
        "dc2": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-dc2-clients-vmss"
      },
      "type": [
        "object",
        {
          "dc1": "string",
          "dc2": "string"
        }
      ]
    },
    "clients_vmss_names": {
      "value": {
        "dc1": "hashistack-dc1-clients-vmss",
        "dc2": "hashistack-dc2-clients-vmss"
      },
      "type": [
        "object",
        {
          "dc1": "string",
          "dc2": "string"
        }
      ]
    },
    "core_ilb_ip": {
      "value": "10.0.2.4",
      "type": "string"
    },
    "core_subnet_id": {
      "value": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
      "type": "string"
    },
    "core_vmss_id": {
      "value": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-core-vmss",
      "type": "string"
    },
    "jump_host_private_ip": {
      "value": "10.0.1.5",
      "type": "string"
    },
    "jump_host_public_ip": {
      "value": "172.211.73.167",
      "type": "string"
    },
    "key_vault_id": {
      "value": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda",
      "type": "string"
    },
    "key_vault_uri": {
      "value": "https://kv-hashistack-2jda.vault.azure.net/",
      "type": "string"
    },
    "next_steps": {
      "value": "Attach cloud-init (custom_data) to VMSS modules to install Vault (Raft + Key Vault auto-unseal), Consul, and Nomad. Initialize Vault exactly once offline; do not store tokens in state.",
      "type": "string"
    },
    "server_vnet_id": {
      "value": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet",
      "type": "string"
    },
    "unseal_key_id": {
      "value": "https://kv-hashistack-2jda.vault.azure.net/keys/vault-unseal-key/618fcd031a424162983e23c3a795ce49",
      "type": "string"
    },
    "vault_ilb_ip": {
      "value": "10.0.1.4",
      "type": "string"
    },
    "vault_subnet_id": {
      "value": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
      "type": "string"
    },
    "vault_vmss_id": {
      "value": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-vault-vmss",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_client_config",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
            "id": "Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9YWNmNmEwYTQtZGM4NC00OGQwLWI5NWEtZWRmNDgyN2M4ZmRjO3N1YnNjcmlwdGlvbklkPWY4Y2VhOGRiLWM4NGItNDRlYi1hYTY3LWY4YzkzOGFiYmZkYTt0ZW5hbnRJZD1iOTM1YTBjZS03YjcwLTRmZDAtOGM2Ni1mZjA2NzgzMzQwNzc=",
            "object_id": "acf6a0a4-dc84-48d0-b95a-edf4827c8fdc",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda",
            "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault",
      "name": "unseal_kv",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "access_policy": [
              {
                "application_id": "",
                "certificate_permissions": [],
                "key_permissions": [
                  "Get",
                  "List",
                  "WrapKey",
                  "UnwrapKey"
                ],
                "object_id": "dc750f07-3cca-4e88-a65c-15285b34f7a3",
                "secret_permissions": [],
                "storage_permissions": [],
                "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077"
              },
              {
                "application_id": "",
                "certificate_permissions": [],
                "key_permissions": [
                  "Get",
                  "List",
                  "Update",
                  "Create",
                  "Import",
                  "Delete",
                  "Recover",
                  "Backup",
                  "Restore",
                  "UnwrapKey",
                  "WrapKey",
                  "Verify",
                  "Sign",
                  "Purge",
                  "GetRotationPolicy",
                  "SetRotationPolicy"
                ],
                "object_id": "acf6a0a4-dc84-48d0-b95a-edf4827c8fdc",
                "secret_permissions": [
                  "Get",
                  "List",
                  "Set",
                  "Delete",
                  "Recover",
                  "Backup",
                  "Restore",
                  "Purge"
                ],
                "storage_permissions": [],
                "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077"
              }
            ],
            "contact": [],
            "enable_rbac_authorization": false,
            "enabled_for_deployment": false,
            "enabled_for_disk_encryption": false,
            "enabled_for_template_deployment": false,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda",
            "location": "westeurope",
            "name": "kv-hashistack-2jda",
            "network_acls": [
              {
                "bypass": "AzureServices",
                "default_action": "Allow",
                "ip_rules": [],
                "virtual_network_subnet_ids": []
              }
            ],
            "public_network_access_enabled": true,
            "purge_protection_enabled": true,
            "rbac_authorization_enabled": false,
            "resource_group_name": "hashistack-servers-rg",
            "sku_name": "standard",
            "soft_delete_retention_days": 30,
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
            "timeouts": null,
            "vault_uri": "https://kv-hashistack-2jda.vault.azure.net/"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg",
            "data.azurerm_client_config.current",
            "random_string.unique"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_access_policy",
      "name": "operator_ap",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_id": "",
            "certificate_permissions": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda/objectId/acf6a0a4-dc84-48d0-b95a-edf4827c8fdc",
            "key_permissions": [
              "Get",
              "List",
              "Update",
              "Create",
              "Import",
              "Delete",
              "Recover",
              "Backup",
              "Restore",
              "UnwrapKey",
              "WrapKey",
              "Verify",
              "Sign",
              "Purge",
              "GetRotationPolicy",
              "SetRotationPolicy"
            ],
            "key_vault_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda",
            "object_id": "acf6a0a4-dc84-48d0-b95a-edf4827c8fdc",
            "secret_permissions": [
              "Get",
              "List",
              "Set",
              "Delete",
              "Recover",
              "Backup",
              "Restore",
              "Purge"
            ],
            "storage_permissions": [],
            "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_key_vault.unseal_kv",
            "azurerm_resource_group.servers_rg",
            "data.azurerm_client_config.current",
            "random_string.unique"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_access_policy",
      "name": "vault_mi_ap",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_id": "",
            "certificate_permissions": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda/objectId/dc750f07-3cca-4e88-a65c-15285b34f7a3",
            "key_permissions": [
              "Get",
              "List",
              "WrapKey",
              "UnwrapKey"
            ],
            "key_vault_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda",
            "object_id": "dc750f07-3cca-4e88-a65c-15285b34f7a3",
            "secret_permissions": [],
            "storage_permissions": [],
            "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_key_vault.unseal_kv",
            "azurerm_resource_group.servers_rg",
            "azurerm_user_assigned_identity.vault_identity",
            "data.azurerm_client_config.current",
            "random_string.unique"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_key_vault_key",
      "name": "unseal_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "curve": "",
            "e": "AQAB",
            "expiration_date": null,
            "id": "https://kv-hashistack-2jda.vault.azure.net/keys/vault-unseal-key/618fcd031a424162983e23c3a795ce49",
            "key_opts": [
              "unwrapKey",
              "wrapKey",
              "encrypt",
              "decrypt"
            ],
            "key_size": 3072,
            "key_type": "RSA",
            "key_vault_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda",
            "n": "pDioTiqmpzNOxj4y0faMW9hNUnP9EqtnBYL-u0A8jB0vIgBNghhFSnEcP-wKvZ2q0OITpNTZzvB9xq3s8VulVn7DO7LlbiGoljumeo99zkLTSWpZsqjUUz1-fNdbjRuiCpxHee-Zqy9vj4MlEZ33Ie51IfZXZX6bIluPFDS0IrvQ8O16ILryCWwMSxS6vTlHLWEM_SjhbN6WgOQjMrzhx8IRDb4D3bqEO_svmSjJn6QL50IiHOUNJ0Zbt5i4Lro3ern-xRmRREeHqINnj_ZK6nSvEK7wFln4QVgOuuSOf2pAeMJWQrExKTd50jszjdzKCUur15zoWgScDdDGfDW9N2B2QU0ExToTa_6IJ-oNBM-sN0uRm0Sg-s9zYksUJVr6FNFIMUzvcz0qJZ-P-63y7hAN5h2n666osx0hpsb030-8eHymdF1hFAh66htVWL2aO5kGVNBxD7xnLNVVoyhJkb5o63K5Ed8nDlncMr8qnUUyJrA1ZE8xE0oUmLIrl4JZ",
            "name": "vault-unseal-key",
            "not_before_date": null,
            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCkOKhOKqanM07GPjLR9oxb2E1Sc/0Sq2cFgv67QDyMHS8iAE2CGEVKcRw/7Aq9narQ4hOk1NnO8H3GrezxW6VWfsM7suVuIaiWO6Z6j33OQtNJalmyqNRTPX5811uNG6IKnEd575mrL2+PgyURnfch7nUh9ldlfpsiW48UNLQiu9Dw7XoguvIJbAxLFLq9OUctYQz9KOFs3paA5CMyvOHHwhENvgPduoQ7+y+ZKMmfpAvnQiIc5Q0nRlu3mLguujd6uf7FGZFER4eog2eP9krqdK8QrvAWWfhBWA665I5/akB4wlZCsTEpN3nSOzON3MoJS6vXnOhaBJwN0MZ8Nb03YHZBTQTFOhNr/ogn6g0Ez6w3S5GbRKD6z3NiSxQlWvoU0UgxTO9zPSoln4/7rfLuEA3mHafrrqizHSGmxvTfT7x4fKZ0XWEUCHrqG1VYvZo7mQZU0HEPvGcs1VWjKEmRvmjrcrkR3ycOWdwyvyqdRTImsDVkTzETShSYsiuXglk=\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIIBojANBgkqhkiG9w0BAQEFAAOCAY8AMIIBigKCAYEApDioTiqmpzNOxj4y0faM\nW9hNUnP9EqtnBYL+u0A8jB0vIgBNghhFSnEcP+wKvZ2q0OITpNTZzvB9xq3s8Vul\nVn7DO7LlbiGoljumeo99zkLTSWpZsqjUUz1+fNdbjRuiCpxHee+Zqy9vj4MlEZ33\nIe51IfZXZX6bIluPFDS0IrvQ8O16ILryCWwMSxS6vTlHLWEM/SjhbN6WgOQjMrzh\nx8IRDb4D3bqEO/svmSjJn6QL50IiHOUNJ0Zbt5i4Lro3ern+xRmRREeHqINnj/ZK\n6nSvEK7wFln4QVgOuuSOf2pAeMJWQrExKTd50jszjdzKCUur15zoWgScDdDGfDW9\nN2B2QU0ExToTa/6IJ+oNBM+sN0uRm0Sg+s9zYksUJVr6FNFIMUzvcz0qJZ+P+63y\n7hAN5h2n666osx0hpsb030+8eHymdF1hFAh66htVWL2aO5kGVNBxD7xnLNVVoyhJ\nkb5o63K5Ed8nDlncMr8qnUUyJrA1ZE8xE0oUmLIrl4JZAgMBAAE=\n-----END PUBLIC KEY-----\n",
            "resource_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda/keys/vault-unseal-key/versions/618fcd031a424162983e23c3a795ce49",
            "resource_versionless_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.KeyVault/vaults/kv-hashistack-2jda/keys/vault-unseal-key",
            "rotation_policy": [],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null,
            "version": "618fcd031a424162983e23c3a795ce49",
            "versionless_id": "https://kv-hashistack-2jda.vault.azure.net/keys/vault-unseal-key",
            "x": "",
            "y": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_key_vault.unseal_kv",
            "azurerm_key_vault_access_policy.operator_ap",
            "azurerm_key_vault_access_policy.vault_mi_ap",
            "azurerm_resource_group.servers_rg",
            "azurerm_user_assigned_identity.vault_identity",
            "data.azurerm_client_config.current",
            "random_string.unique",
            "time_sleep.kv_ap_delay"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb",
      "name": "core_ilb",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "edge_zone": "",
            "frontend_ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/frontendIPConfigurations/core-fe",
                "inbound_nat_rules": [],
                "load_balancer_rules": [
                  "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/loadBalancingRules/consul-8500"
                ],
                "name": "core-fe",
                "outbound_rules": [],
                "private_ip_address": "10.0.2.4",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "public_ip_prefix_id": "",
                "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
                "zones": []
              }
            ],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb",
            "location": "westeurope",
            "name": "hashistack-core-ilb",
            "private_ip_address": "10.0.2.4",
            "private_ip_addresses": [
              "10.0.2.4"
            ],
            "public_ip_address_id": null,
            "resource_group_name": "hashistack-servers-rg",
            "sku": "Standard",
            "sku_tier": "Regional",
            "subnet_id": null,
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb",
      "name": "vault_ilb",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "edge_zone": "",
            "frontend_ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/frontendIPConfigurations/vault-fe",
                "inbound_nat_rules": [],
                "load_balancer_rules": [
                  "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/loadBalancingRules/vault-8200"
                ],
                "name": "vault-fe",
                "outbound_rules": [],
                "private_ip_address": "10.0.1.4",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "",
                "public_ip_prefix_id": "",
                "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
                "zones": []
              }
            ],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb",
            "location": "westeurope",
            "name": "hashistack-vault-ilb",
            "private_ip_address": "10.0.1.4",
            "private_ip_addresses": [
              "10.0.1.4"
            ],
            "public_ip_address_id": null,
            "resource_group_name": "hashistack-servers-rg",
            "sku": "Standard",
            "sku_tier": "Regional",
            "subnet_id": null,
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_backend_address_pool",
      "name": "core_pool",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "backend_ip_configurations": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/backendAddressPools/core-bep",
            "inbound_nat_rules": [],
            "load_balancing_rules": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/loadBalancingRules/consul-8500"
            ],
            "loadbalancer_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb",
            "name": "core-bep",
            "outbound_rules": [],
            "synchronous_mode": "",
            "timeouts": null,
            "tunnel_interface": [],
            "virtual_network_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.core_ilb",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_backend_address_pool",
      "name": "vault_pool",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "backend_ip_configurations": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-vault-vmss/virtualMachines/1/networkInterfaces/vault-nic/ipConfigurations/vault-ipcfg",
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-vault-vmss/virtualMachines/2/networkInterfaces/vault-nic/ipConfigurations/vault-ipcfg",
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-vault-vmss/virtualMachines/3/networkInterfaces/vault-nic/ipConfigurations/vault-ipcfg"
            ],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/backendAddressPools/vault-bep",
            "inbound_nat_rules": [],
            "load_balancing_rules": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/loadBalancingRules/vault-8200"
            ],
            "loadbalancer_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb",
            "name": "vault-bep",
            "outbound_rules": [],
            "synchronous_mode": "",
            "timeouts": null,
            "tunnel_interface": [],
            "virtual_network_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.vault_ilb",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_probe",
      "name": "consul_probe",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/probes/consul-8500",
            "interval_in_seconds": 15,
            "load_balancer_rules": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/loadBalancingRules/consul-8500"
            ],
            "loadbalancer_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb",
            "name": "consul-8500",
            "number_of_probes": 2,
            "port": 8500,
            "probe_threshold": 1,
            "protocol": "Tcp",
            "request_path": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.core_ilb",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_probe",
      "name": "vault_probe",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/probes/vault-8200",
            "interval_in_seconds": 15,
            "load_balancer_rules": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/loadBalancingRules/vault-8200"
            ],
            "loadbalancer_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb",
            "name": "vault-8200",
            "number_of_probes": 2,
            "port": 8200,
            "probe_threshold": 1,
            "protocol": "Tcp",
            "request_path": "",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.vault_ilb",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_rule",
      "name": "consul_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_ids": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/backendAddressPools/core-bep"
            ],
            "backend_port": 8500,
            "disable_outbound_snat": false,
            "enable_floating_ip": false,
            "enable_tcp_reset": false,
            "floating_ip_enabled": false,
            "frontend_ip_configuration_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/frontendIPConfigurations/core-fe",
            "frontend_ip_configuration_name": "core-fe",
            "frontend_port": 8500,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/loadBalancingRules/consul-8500",
            "idle_timeout_in_minutes": 4,
            "load_distribution": "Default",
            "loadbalancer_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb",
            "name": "consul-8500",
            "probe_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/probes/consul-8500",
            "protocol": "Tcp",
            "tcp_reset_enabled": false,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.core_ilb",
            "azurerm_lb_backend_address_pool.core_pool",
            "azurerm_lb_probe.consul_probe",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_lb_rule",
      "name": "vault_rule",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "backend_address_pool_ids": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/backendAddressPools/vault-bep"
            ],
            "backend_port": 8200,
            "disable_outbound_snat": false,
            "enable_floating_ip": false,
            "enable_tcp_reset": false,
            "floating_ip_enabled": false,
            "frontend_ip_configuration_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/frontendIPConfigurations/vault-fe",
            "frontend_ip_configuration_name": "vault-fe",
            "frontend_port": 8200,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/loadBalancingRules/vault-8200",
            "idle_timeout_in_minutes": 4,
            "load_distribution": "Default",
            "loadbalancer_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb",
            "name": "vault-8200",
            "probe_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/probes/vault-8200",
            "protocol": "Tcp",
            "tcp_reset_enabled": false,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.vault_ilb",
            "azurerm_lb_backend_address_pool.vault_pool",
            "azurerm_lb_probe.vault_probe",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine",
      "name": "jump_vm",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": null,
            "admin_ssh_key": [
              {
                "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxzCpD2oQJ3N25HTMGIPizyFZ14WEHNXXHT6RmjKnZkczoOuSoKwROvZOJs9P87RCEYRFtISJERqyA3KmvuOgaHZsD3VCpeloVKFmTuKjnZ6NwCegtqcb4YcF7n8qlDbrdyHa8hfgguJAti0XFjckTaC2B/PrDuMLxzxCyMimLLcvEZGBPU2Bou8zlnD4vX+KfHqP1brxzF0OayYqdM5ik8V7iVXbBULKuuE0J9tjvX5M4OlD4CDJjzSL+0jTgPlx7X9FtFG8sw/2NsOnsISK62oVTqmMjMXmnboOW8bQtprVP+eR9TfkyunQUTFFJaG6ViisdzwywiwaTlmYXGRj9++yFJDmGg/4efUOhwsotODBTfZEEEudnlZ1XCnzqBGBQHMib//nzlAotGCsWM5e5wEUFpcFsJh1PDLntM8hUmzxVArdGAgj4AWdJduwoGcfQiT/vYyqrdjtik20oluNBN0Xid1oK/X4lFnvUVdYbAN/UqgVhJEtc5L/6v6sY6N60bUvHeogz2W5rspIahVBTZdl25hNzwXkZs1Zj6Ha9K1Vr95R5ZiLt/U1lgofNrSxKv21hrFAjnt3y8eyhiXuGy4pxssnwU3Er16XzLaJ0KeBnsCyl383nQpCDCON10ox7l81gPLr1YgLs0ZA+4xrUsqoFhuhY5RaSRirAcVvHLQ==",
                "username": "adminuser"
              }
            ],
            "admin_username": "adminuser",
            "allow_extension_operations": true,
            "availability_set_id": "",
            "boot_diagnostics": [],
            "bypass_platform_safety_checks_on_user_schedule_enabled": false,
            "capacity_reservation_group_id": "",
            "computer_name": "hashistack-jump-vm",
            "custom_data": "I2Nsb3VkLWNvbmZpZwpwYWNrYWdlX3VwZGF0ZTogdHJ1ZQpwYWNrYWdlczoKICAtIGh0b3AKICAtIGpxCiAgLSB1bnppcAogIC0gbmV0LXRvb2xzCiAgLSB0Y3BkdW1wCnJ1bmNtZDoKICAtIHN5c2N0bCAtdyBuZXQuaXB2NC5pcF9mb3J3YXJkPTEK",
            "dedicated_host_group_id": "",
            "dedicated_host_id": "",
            "disable_password_authentication": true,
            "disk_controller_type": "",
            "edge_zone": "",
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachines/hashistack-jump-vm",
            "identity": [],
            "license_type": "",
            "location": "westeurope",
            "max_bid_price": -1,
            "name": "hashistack-jump-vm",
            "network_interface_ids": [
              "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkInterfaces/hashistack-jump-nic"
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 30,
                "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/disks/hashistack-jump-osdisk",
                "name": "hashistack-jump-osdisk",
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "os_image_notification": [],
            "os_managed_disk_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/disks/hashistack-jump-osdisk",
            "patch_assessment_mode": "ImageDefault",
            "patch_mode": "ImageDefault",
            "plan": [],
            "platform_fault_domain": -1,
            "priority": "Regular",
            "private_ip_address": "10.0.1.5",
            "private_ip_addresses": [
              "10.0.1.5"
            ],
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "public_ip_address": "172.211.73.167",
            "public_ip_addresses": [
              "172.211.73.167"
            ],
            "reboot_setting": "",
            "resource_group_name": "hashistack-servers-rg",
            "secret": [],
            "secure_boot_enabled": false,
            "size": "Standard_B1ms",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "0001-com-ubuntu-server-jammy",
                "publisher": "Canonical",
                "sku": "22_04-lts",
                "version": "latest"
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "termination_notification": [],
            "timeouts": null,
            "user_data": "",
            "virtual_machine_id": "1447e423-2af4-4a12-bd42-c5e4b932a3ed",
            "virtual_machine_scale_set_id": "",
            "vm_agent_platform_updates_enabled": false,
            "vtpm_enabled": false,
            "zone": ""
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "custom_data"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwLCJkZWxldGUiOjI3MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_network_interface.jump_nic",
            "azurerm_public_ip.jump_pip",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine_scale_set",
      "name": "clients_vmss",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": "YourStrongPassword!ChangeMe123",
            "admin_ssh_key": [
              {
                "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxzCpD2oQJ3N25HTMGIPizyFZ14WEHNXXHT6RmjKnZkczoOuSoKwROvZOJs9P87RCEYRFtISJERqyA3KmvuOgaHZsD3VCpeloVKFmTuKjnZ6NwCegtqcb4YcF7n8qlDbrdyHa8hfgguJAti0XFjckTaC2B/PrDuMLxzxCyMimLLcvEZGBPU2Bou8zlnD4vX+KfHqP1brxzF0OayYqdM5ik8V7iVXbBULKuuE0J9tjvX5M4OlD4CDJjzSL+0jTgPlx7X9FtFG8sw/2NsOnsISK62oVTqmMjMXmnboOW8bQtprVP+eR9TfkyunQUTFFJaG6ViisdzwywiwaTlmYXGRj9++yFJDmGg/4efUOhwsotODBTfZEEEudnlZ1XCnzqBGBQHMib//nzlAotGCsWM5e5wEUFpcFsJh1PDLntM8hUmzxVArdGAgj4AWdJduwoGcfQiT/vYyqrdjtik20oluNBN0Xid1oK/X4lFnvUVdYbAN/UqgVhJEtc5L/6v6sY6N60bUvHeogz2W5rspIahVBTZdl25hNzwXkZs1Zj6Ha9K1Vr95R5ZiLt/U1lgofNrSxKv21hrFAjnt3y8eyhiXuGy4pxssnwU3Er16XzLaJ0KeBnsCyl383nQpCDCON10ox7l81gPLr1YgLs0ZA+4xrUsqoFhuhY5RaSRirAcVvHLQ==",
                "username": "adminuser"
              }
            ],
            "admin_username": "adminuser",
            "automatic_instance_repair": [],
            "automatic_os_upgrade_policy": [],
            "boot_diagnostics": [],
            "capacity_reservation_group_id": "",
            "computer_name_prefix": "hashistack-dc1-clients-vmss",
            "custom_data": null,
            "data_disk": [],
            "disable_password_authentication": false,
            "do_not_run_extensions_on_overprovisioned_machines": false,
            "edge_zone": "",
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extension": [],
            "extension_operations_enabled": true,
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "health_probe_id": "",
            "host_group_id": null,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-dc1-clients-vmss",
            "identity": [
              {
                "identity_ids": [],
                "principal_id": "efc6d38c-5511-486d-beec-b14ce93ea17f",
                "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
                "type": "SystemAssigned"
              }
            ],
            "instances": 2,
            "location": "westeurope",
            "max_bid_price": -1,
            "name": "hashistack-dc1-clients-vmss",
            "network_interface": [
              {
                "auxiliary_mode": "",
                "auxiliary_sku": "",
                "dns_servers": [],
                "enable_accelerated_networking": false,
                "enable_ip_forwarding": false,
                "ip_configuration": [
                  {
                    "application_gateway_backend_address_pool_ids": [],
                    "application_security_group_ids": [],
                    "load_balancer_backend_address_pool_ids": [],
                    "load_balancer_inbound_nat_rules_ids": [],
                    "name": "hashistack-dc1-clients-ipcfg",
                    "primary": true,
                    "public_ip_address": [],
                    "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet/subnets/client-dc1-subnet",
                    "version": "IPv4"
                  }
                ],
                "name": "hashistack-dc1-clients-nic",
                "network_security_group_id": "",
                "primary": true
              }
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 32,
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "overprovision": true,
            "plan": [],
            "platform_fault_domain_count": 5,
            "priority": "Regular",
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "resilient_vm_creation_enabled": false,
            "resilient_vm_deletion_enabled": false,
            "resource_group_name": "hashistack-dc1-rg",
            "rolling_upgrade_policy": [],
            "scale_in": [],
            "secret": [],
            "secure_boot_enabled": false,
            "single_placement_group": true,
            "sku": "Standard_B1ms",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "0001-com-ubuntu-server-jammy",
                "publisher": "Canonical",
                "sku": "22_04-lts",
                "version": "latest"
              }
            ],
            "spot_restore": [],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "termination_notification": [],
            "timeouts": null,
            "unique_id": "798058b0-f1e7-4f0f-b2a5-7711f60c77fd",
            "upgrade_mode": "Manual",
            "user_data": "",
            "vtpm_enabled": false,
            "zone_balance": false,
            "zones": []
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "custom_data"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_subnet.client_subnets",
            "azurerm_virtual_network.client_vnets"
          ]
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": "YourStrongPassword!ChangeMe123",
            "admin_ssh_key": [
              {
                "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxzCpD2oQJ3N25HTMGIPizyFZ14WEHNXXHT6RmjKnZkczoOuSoKwROvZOJs9P87RCEYRFtISJERqyA3KmvuOgaHZsD3VCpeloVKFmTuKjnZ6NwCegtqcb4YcF7n8qlDbrdyHa8hfgguJAti0XFjckTaC2B/PrDuMLxzxCyMimLLcvEZGBPU2Bou8zlnD4vX+KfHqP1brxzF0OayYqdM5ik8V7iVXbBULKuuE0J9tjvX5M4OlD4CDJjzSL+0jTgPlx7X9FtFG8sw/2NsOnsISK62oVTqmMjMXmnboOW8bQtprVP+eR9TfkyunQUTFFJaG6ViisdzwywiwaTlmYXGRj9++yFJDmGg/4efUOhwsotODBTfZEEEudnlZ1XCnzqBGBQHMib//nzlAotGCsWM5e5wEUFpcFsJh1PDLntM8hUmzxVArdGAgj4AWdJduwoGcfQiT/vYyqrdjtik20oluNBN0Xid1oK/X4lFnvUVdYbAN/UqgVhJEtc5L/6v6sY6N60bUvHeogz2W5rspIahVBTZdl25hNzwXkZs1Zj6Ha9K1Vr95R5ZiLt/U1lgofNrSxKv21hrFAjnt3y8eyhiXuGy4pxssnwU3Er16XzLaJ0KeBnsCyl383nQpCDCON10ox7l81gPLr1YgLs0ZA+4xrUsqoFhuhY5RaSRirAcVvHLQ==",
                "username": "adminuser"
              }
            ],
            "admin_username": "adminuser",
            "automatic_instance_repair": [],
            "automatic_os_upgrade_policy": [],
            "boot_diagnostics": [],
            "capacity_reservation_group_id": "",
            "computer_name_prefix": "hashistack-dc2-clients-vmss",
            "custom_data": null,
            "data_disk": [],
            "disable_password_authentication": false,
            "do_not_run_extensions_on_overprovisioned_machines": false,
            "edge_zone": "",
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extension": [],
            "extension_operations_enabled": true,
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "health_probe_id": "",
            "host_group_id": null,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-dc2-clients-vmss",
            "identity": [
              {
                "identity_ids": [],
                "principal_id": "6971234e-7cd6-44da-9442-d71184a7d574",
                "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
                "type": "SystemAssigned"
              }
            ],
            "instances": 2,
            "location": "westeurope",
            "max_bid_price": -1,
            "name": "hashistack-dc2-clients-vmss",
            "network_interface": [
              {
                "auxiliary_mode": "",
                "auxiliary_sku": "",
                "dns_servers": [],
                "enable_accelerated_networking": false,
                "enable_ip_forwarding": false,
                "ip_configuration": [
                  {
                    "application_gateway_backend_address_pool_ids": [],
                    "application_security_group_ids": [],
                    "load_balancer_backend_address_pool_ids": [],
                    "load_balancer_inbound_nat_rules_ids": [],
                    "name": "hashistack-dc2-clients-ipcfg",
                    "primary": true,
                    "public_ip_address": [],
                    "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet/subnets/client-dc2-subnet",
                    "version": "IPv4"
                  }
                ],
                "name": "hashistack-dc2-clients-nic",
                "network_security_group_id": "",
                "primary": true
              }
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 32,
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "overprovision": true,
            "plan": [],
            "platform_fault_domain_count": 5,
            "priority": "Regular",
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "resilient_vm_creation_enabled": false,
            "resilient_vm_deletion_enabled": false,
            "resource_group_name": "hashistack-dc2-rg",
            "rolling_upgrade_policy": [],
            "scale_in": [],
            "secret": [],
            "secure_boot_enabled": false,
            "single_placement_group": true,
            "sku": "Standard_B1ms",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "0001-com-ubuntu-server-jammy",
                "publisher": "Canonical",
                "sku": "22_04-lts",
                "version": "latest"
              }
            ],
            "spot_restore": [],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "termination_notification": [],
            "timeouts": null,
            "unique_id": "c61bf32d-bd7b-4978-ba1c-a689d90b0499",
            "upgrade_mode": "Manual",
            "user_data": "",
            "vtpm_enabled": false,
            "zone_balance": false,
            "zones": []
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "custom_data"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_subnet.client_subnets",
            "azurerm_virtual_network.client_vnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine_scale_set",
      "name": "core_vmss",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": "YourStrongPassword!ChangeMe123",
            "admin_ssh_key": [
              {
                "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxzCpD2oQJ3N25HTMGIPizyFZ14WEHNXXHT6RmjKnZkczoOuSoKwROvZOJs9P87RCEYRFtISJERqyA3KmvuOgaHZsD3VCpeloVKFmTuKjnZ6NwCegtqcb4YcF7n8qlDbrdyHa8hfgguJAti0XFjckTaC2B/PrDuMLxzxCyMimLLcvEZGBPU2Bou8zlnD4vX+KfHqP1brxzF0OayYqdM5ik8V7iVXbBULKuuE0J9tjvX5M4OlD4CDJjzSL+0jTgPlx7X9FtFG8sw/2NsOnsISK62oVTqmMjMXmnboOW8bQtprVP+eR9TfkyunQUTFFJaG6ViisdzwywiwaTlmYXGRj9++yFJDmGg/4efUOhwsotODBTfZEEEudnlZ1XCnzqBGBQHMib//nzlAotGCsWM5e5wEUFpcFsJh1PDLntM8hUmzxVArdGAgj4AWdJduwoGcfQiT/vYyqrdjtik20oluNBN0Xid1oK/X4lFnvUVdYbAN/UqgVhJEtc5L/6v6sY6N60bUvHeogz2W5rspIahVBTZdl25hNzwXkZs1Zj6Ha9K1Vr95R5ZiLt/U1lgofNrSxKv21hrFAjnt3y8eyhiXuGy4pxssnwU3Er16XzLaJ0KeBnsCyl383nQpCDCON10ox7l81gPLr1YgLs0ZA+4xrUsqoFhuhY5RaSRirAcVvHLQ==",
                "username": "adminuser"
              }
            ],
            "admin_username": "adminuser",
            "automatic_instance_repair": [],
            "automatic_os_upgrade_policy": [],
            "boot_diagnostics": [],
            "capacity_reservation_group_id": "",
            "computer_name_prefix": "hashistack-core-vmss",
            "custom_data": "I2Nsb3VkLWNvbmZpZwpwYWNrYWdlX3VwZGF0ZTogdHJ1ZQoKd3JpdGVfZmlsZXM6CiAgLSBwYXRoOiAvdXNyL2xvY2FsL2Jpbi9pbnN0YWxsX3ByZXJlcXMuc2gKICAgIHBlcm1pc3Npb25zOiAiMDc1NSIKICAgIG93bmVyOiByb290OnJvb3QKICAgIGNvbnRlbnQ6IHwKICAgICAgIyEvdXNyL2Jpbi9lbnYgYmFzaAogICAgICBzZXQgLWV1byBwaXBlZmFpbAogICAgICB0cmllcz0xMgogICAgICBkZWxheT0xMAogICAgICBpPTEKICAgICAgd2hpbGUgWyAkaSAtbGUgJHRyaWVzIF07IGRvCiAgICAgICAgaWYgc3VkbyBhcHQtZ2V0IHVwZGF0ZSAteSAmJiBzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSBjdXJsIHVuemlwIGpxOyB0aGVuCiAgICAgICAgICBleGl0IDAKICAgICAgICBmaQogICAgICAgIGVjaG8gIltjbG91ZC1pbml0XSBhcHQgYXR0ZW1wdCAkaS8kdHJpZXMgZmFpbGVkOyByZXRyeWluZyBpbiAke2RlbGF5fXMuLi4iCiAgICAgICAgc2xlZXAgJGRlbGF5CiAgICAgICAgaT0kKChpKzEpKQogICAgICBkb25lCiAgICAgIGVjaG8gIltjbG91ZC1pbml0XSBhcHQgaW5zdGFsbCBmYWlsZWQgYWZ0ZXIgcmV0cmllcyIgPiYyCiAgICAgIGV4aXQgMQoKICAtIHBhdGg6IC91c3IvbG9jYWwvYmluL2luc3RhbGxfY29uc3VsX25vbWFkLnNoCiAgICBwZXJtaXNzaW9uczogIjA3NTUiCiAgICBvd25lcjogcm9vdDpyb290CiAgICBjb250ZW50OiB8CiAgICAgICMhL3Vzci9iaW4vZW52IGJhc2gKICAgICAgc2V0IC1ldW8gcGlwZWZhaWwKCiAgICAgIENPTlNVTF9WRVJTSU9OPSIxLjE5LjIiCiAgICAgIE5PTUFEX1ZFUlNJT049IjEuOS4yIgoKICAgICAgQ09OU1VMX1VTRVI9ImNvbnN1bCIKICAgICAgQ09OU1VMX0dST1VQPSJjb25zdWwiCiAgICAgIE5PTUFEX1VTRVI9Im5vbWFkIgogICAgICBOT01BRF9HUk9VUD0ibm9tYWQiCgogICAgICBDT05TVUxfREFUQV9ESVI9Ii9vcHQvY29uc3VsIgogICAgICBOT01BRF9EQVRBX0RJUj0iL29wdC9ub21hZCIKCiAgICAgIFBSSVZBVEVfSVA9IiQoaG9zdG5hbWUgLUkgfCBhd2sgJ3twcmludCAkMX0nKSIKCiAgICAgIGluc3RhbGxfY29uc3VsKCkgewogICAgICAgIGlmIGNvbW1hbmQgLXYgY29uc3VsID4vZGV2L251bGwgMj4mMTsgdGhlbgogICAgICAgICAgZWNobyAiW2Nsb3VkLWluaXRdIENvbnN1bCBhbHJlYWR5IGluc3RhbGxlZDogJChjb25zdWwgdmVyc2lvbiB8IGhlYWQgLW4xKSIKICAgICAgICAgIHJldHVybgogICAgICAgIGZpCgogICAgICAgIGVjaG8gIltjbG91ZC1pbml0XSBJbnN0YWxsaW5nIENvbnN1bCAke0NPTlNVTF9WRVJTSU9OfS4uLiIKICAgICAgICBjZCAvdG1wCiAgICAgICAgY3VybCAtZnNTTE8gImh0dHBzOi8vcmVsZWFzZXMuaGFzaGljb3JwLmNvbS9jb25zdWwvJHtDT05TVUxfVkVSU0lPTn0vY29uc3VsXyR7Q09OU1VMX1ZFUlNJT059X2xpbnV4X2FtZDY0LnppcCIKICAgICAgICB1bnppcCAtbyAiY29uc3VsXyR7Q09OU1VMX1ZFUlNJT059X2xpbnV4X2FtZDY0LnppcCIgLWQgL3Vzci9sb2NhbC9iaW4KICAgICAgICBjaG1vZCAwNzU1IC91c3IvbG9jYWwvYmluL2NvbnN1bAogICAgICAgIHJtIC1mICJjb25zdWxfJHtDT05TVUxfVkVSU0lPTn1fbGludXhfYW1kNjQuemlwIgoKICAgICAgICBpZCAtdSAiJHtDT05TVUxfVVNFUn0iID4vZGV2L251bGwgMj4mMSB8fCB1c2VyYWRkIC0tc3lzdGVtIC0taG9tZSAvZXRjL2NvbnN1bC5kIC0tc2hlbGwgL2Jpbi9mYWxzZSAiJHtDT05TVUxfVVNFUn0iCiAgICAgICAgbWtkaXIgLXAgIiR7Q09OU1VMX0RBVEFfRElSfSIgL2V0Yy9jb25zdWwuZAogICAgICAgIGNob3duIC1SICIke0NPTlNVTF9VU0VSfToke0NPTlNVTF9HUk9VUH0iICIke0NPTlNVTF9EQVRBX0RJUn0iIC9ldGMvY29uc3VsLmQKICAgICAgICBjaG1vZCAwNzUwICIke0NPTlNVTF9EQVRBX0RJUn0iIC9ldGMvY29uc3VsLmQKCiAgICAgICAgY2F0ID4vZXRjL2NvbnN1bC5kL2NvbnN1bC5oY2wgPDxFT0YKICAgICAgZGF0YV9kaXIgICAgICA9ICIke0NPTlNVTF9EQVRBX0RJUn0iCiAgICAgIGJpbmRfYWRkciAgICAgPSAiJHtQUklWQVRFX0lQfSIKICAgICAgYWR2ZXJ0aXNlX2FkZHI9ICIke1BSSVZBVEVfSVB9IgogICAgICBjbGllbnRfYWRkciAgID0gIjAuMC4wLjAiCiAgICAgIHJldHJ5X2pvaW4gICAgPSBbIjEwLjAuMi40Il0KICAgICAgdWkgICAgICAgICAgICA9IHRydWUKICAgICAgc2VydmVyICAgICAgICA9IHRydWUKICAgICAgRU9GCgogICAgICAgIGNob3duIC1SICIke0NPTlNVTF9VU0VSfToke0NPTlNVTF9HUk9VUH0iIC9ldGMvY29uc3VsLmQKICAgICAgICBjaG1vZCAwNjQwIC9ldGMvY29uc3VsLmQvY29uc3VsLmhjbAoKICAgICAgICBjYXQgPi9ldGMvc3lzdGVtZC9zeXN0ZW0vY29uc3VsLnNlcnZpY2UgPDwnRU9GJwogICAgICBbVW5pdF0KICAgICAgRGVzY3JpcHRpb249SGFzaGlDb3JwIENvbnN1bCBBZ2VudAogICAgICBSZXF1aXJlcz1uZXR3b3JrLW9ubGluZS50YXJnZXQKICAgICAgQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CgogICAgICBbU2VydmljZV0KICAgICAgVXNlcj1jb25zdWwKICAgICAgR3JvdXA9Y29uc3VsCiAgICAgIEV4ZWNTdGFydFByZT0vYmluL3NsZWVwIDgKICAgICAgRXhlY1N0YXJ0PS91c3IvbG9jYWwvYmluL2NvbnN1bCBhZ2VudCAtY29uZmlnLWRpcj0vZXRjL2NvbnN1bC5kCiAgICAgIEV4ZWNSZWxvYWQ9L2Jpbi9raWxsIC0tc2lnbmFsIEhVUCAkTUFJTlBJRAogICAgICBLaWxsTW9kZT1wcm9jZXNzCiAgICAgIFJlc3RhcnQ9b24tZmFpbHVyZQogICAgICBMaW1pdE5PRklMRT02NTUzNgoKICAgICAgW0luc3RhbGxdCiAgICAgIFdhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0CiAgICAgIEVPRgoKICAgICAgICBzeXN0ZW1jdGwgZGFlbW9uLXJlbG9hZAogICAgICAgIHN5c3RlbWN0bCBlbmFibGUgY29uc3VsCiAgICAgIH0KCiAgICAgIGluc3RhbGxfbm9tYWQoKSB7CiAgICAgICAgaWYgY29tbWFuZCAtdiBub21hZCA+L2Rldi9udWxsIDI+JjE7IHRoZW4KICAgICAgICAgIGVjaG8gIltjbG91ZC1pbml0XSBOb21hZCBhbHJlYWR5IGluc3RhbGxlZDogJChub21hZCB2ZXJzaW9uIHwgaGVhZCAtbjEpIgogICAgICAgICAgcmV0dXJuCiAgICAgICAgZmkKCiAgICAgICAgZWNobyAiW2Nsb3VkLWluaXRdIEluc3RhbGxpbmcgTm9tYWQgJHtOT01BRF9WRVJTSU9OfS4uLiIKICAgICAgICBjZCAvdG1wCiAgICAgICAgY3VybCAtZnNTTE8gImh0dHBzOi8vcmVsZWFzZXMuaGFzaGljb3JwLmNvbS9ub21hZC8ke05PTUFEX1ZFUlNJT059L25vbWFkXyR7Tk9NQURfVkVSU0lPTn1fbGludXhfYW1kNjQuemlwIgogICAgICAgIHVuemlwIC1vICJub21hZF8ke05PTUFEX1ZFUlNJT059X2xpbnV4X2FtZDY0LnppcCIgLWQgL3Vzci9sb2NhbC9iaW4KICAgICAgICBjaG1vZCAwNzU1IC91c3IvbG9jYWwvYmluL25vbWFkCiAgICAgICAgcm0gLWYgIm5vbWFkXyR7Tk9NQURfVkVSU0lPTn1fbGludXhfYW1kNjQuemlwIgoKICAgICAgICBpZCAtdSAiJHtOT01BRF9VU0VSfSIgPi9kZXYvbnVsbCAyPiYxIHx8IHVzZXJhZGQgLS1zeXN0ZW0gLS1ob21lIC9ldGMvbm9tYWQuZCAtLXNoZWxsIC9iaW4vZmFsc2UgIiR7Tk9NQURfVVNFUn0iCiAgICAgICAgbWtkaXIgLXAgIiR7Tk9NQURfREFUQV9ESVJ9IiAvZXRjL25vbWFkLmQKICAgICAgICBjaG93biAtUiAiJHtOT01BRF9VU0VSfToke05PTUFEX0dST1VQfSIgIiR7Tk9NQURfREFUQV9ESVJ9IiAvZXRjL25vbWFkLmQKICAgICAgICBjaG1vZCAwNzUwICIke05PTUFEX0RBVEFfRElSfSIgL2V0Yy9ub21hZC5kCgogICAgICAgIGNhdCA+L2V0Yy9ub21hZC5kL25vbWFkLmhjbCA8PEVPRgogICAgICBkYXRhX2RpciAgPSAiJHtOT01BRF9EQVRBX0RJUn0iCiAgICAgIGJpbmRfYWRkciA9ICIwLjAuMC4wIgogICAgICBhZHZlcnRpc2UgewogICAgICAgIGh0dHAgPSAiJHtQUklWQVRFX0lQfSIKICAgICAgICBycGMgID0gIiR7UFJJVkFURV9JUH0iCiAgICAgICAgc2VyZiA9ICIke1BSSVZBVEVfSVB9IgogICAgICB9CiAgICAgIGNsaWVudCB7CiAgICAgICAgZW5hYmxlZCA9IHRydWUKICAgICAgICBuZXR3b3JrX2ludGVyZmFjZSA9ICJldGgwIgogICAgICB9CiAgICAgIHNlcnZlciB7CiAgICAgICAgZW5hYmxlZCA9IHRydWUKICAgICAgICBib290c3RyYXBfZXhwZWN0ID0gMwogICAgICB9CiAgICAgIGNvbnN1bCB7CiAgICAgICAgYWRkcmVzcyA9ICIxMjcuMC4wLjE6ODUwMCIKICAgICAgfQogICAgICBFT0YKCiAgICAgICAgY2hvd24gLVIgIiR7Tk9NQURfVVNFUn06JHtOT01BRF9HUk9VUH0iIC9ldGMvbm9tYWQuZAogICAgICAgIGNobW9kIDA2NDAgL2V0Yy9ub21hZC5kL25vbWFkLmhjbAoKICAgICAgICBjYXQgPi9ldGMvc3lzdGVtZC9zeXN0ZW0vbm9tYWQuc2VydmljZSA8PCdFT0YnCiAgICAgIFtVbml0XQogICAgICBEZXNjcmlwdGlvbj1IYXNoaUNvcnAgTm9tYWQgQWdlbnQKICAgICAgUmVxdWlyZXM9bmV0d29yay1vbmxpbmUudGFyZ2V0CiAgICAgIEFmdGVyPW5ldHdvcmstb25saW5lLnRhcmdldAoKICAgICAgW1NlcnZpY2VdCiAgICAgIFVzZXI9bm9tYWQKICAgICAgR3JvdXA9bm9tYWQKICAgICAgRXhlY1N0YXJ0UHJlPS9iaW4vc2xlZXAgOAogICAgICBFeGVjU3RhcnQ9L3Vzci9sb2NhbC9iaW4vbm9tYWQgYWdlbnQgLWNvbmZpZz0vZXRjL25vbWFkLmQKICAgICAgRXhlY1JlbG9hZD0vYmluL2tpbGwgLS1zaWduYWwgSFVQICRNQUlOUElECiAgICAgIEtpbGxNb2RlPXByb2Nlc3MKICAgICAgUmVzdGFydD1vbi1mYWlsdXJlCiAgICAgIExpbWl0Tk9GSUxFPTY1NTM2CgogICAgICBbSW5zdGFsbF0KICAgICAgV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQKICAgICAgRU9GCgogICAgICAgIHN5c3RlbWN0bCBkYWVtb24tcmVsb2FkCiAgICAgICAgc3lzdGVtY3RsIGVuYWJsZSBub21hZAogICAgICB9CgogICAgICBtYWluKCkgewogICAgICAgIGluc3RhbGxfY29uc3VsCiAgICAgICAgaW5zdGFsbF9ub21hZAoKICAgICAgICAjIEVuc3VyZSBhbGxvYyBkaXIgZXhpc3RzCiAgICAgICAgbWtkaXIgLXAgL29wdC9hbGxvY19tb3VudHMKICAgICAgICBjaG93biAtUiBub21hZDpub21hZCAvb3B0L2FsbG9jX21vdW50cwogICAgICAgIGNobW9kIDA3NTUgL29wdC9hbGxvY19tb3VudHMKCiAgICAgICAgIyBHaXZlIG5ldHdvcmsgYW5kIHBlZXJzIHNvbWUgdGltZQogICAgICAgIHNsZWVwIDEwCgogICAgICAgIHN5c3RlbWN0bCBzdGFydCBjb25zdWwgfHwgdHJ1ZQoKICAgICAgICBzbGVlcCA2CiAgICAgICAgc3lzdGVtY3RsIHN0YXJ0IG5vbWFkIHx8IHRydWUKICAgICAgfQoKICAgICAgbWFpbgoKcnVuY21kOgogIC0gWyBiYXNoLCAtbGMsICIvdXNyL2xvY2FsL2Jpbi9pbnN0YWxsX3ByZXJlcXMuc2giIF0KICAtIFsgYmFzaCwgLWxjLCAiL3Vzci9sb2NhbC9iaW4vaW5zdGFsbF9jb25zdWxfbm9tYWQuc2giIF0K",
            "data_disk": [],
            "disable_password_authentication": false,
            "do_not_run_extensions_on_overprovisioned_machines": false,
            "edge_zone": "",
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extension": [],
            "extension_operations_enabled": true,
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "health_probe_id": "",
            "host_group_id": null,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-core-vmss",
            "identity": [
              {
                "identity_ids": [
                  "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/hashistack-core-mi"
                ],
                "principal_id": "",
                "tenant_id": "",
                "type": "UserAssigned"
              }
            ],
            "instances": 3,
            "location": "westeurope",
            "max_bid_price": -1,
            "name": "hashistack-core-vmss",
            "network_interface": [
              {
                "auxiliary_mode": "",
                "auxiliary_sku": "",
                "dns_servers": null,
                "enable_accelerated_networking": false,
                "enable_ip_forwarding": false,
                "ip_configuration": [
                  {
                    "application_gateway_backend_address_pool_ids": null,
                    "application_security_group_ids": null,
                    "load_balancer_backend_address_pool_ids": [
                      "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-core-ilb/backendAddressPools/core-bep"
                    ],
                    "load_balancer_inbound_nat_rules_ids": null,
                    "name": "core-ipcfg",
                    "primary": true,
                    "public_ip_address": [],
                    "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
                    "version": "IPv4"
                  }
                ],
                "name": "core-nic",
                "network_security_group_id": "",
                "primary": true
              }
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 30,
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "overprovision": true,
            "plan": [],
            "platform_fault_domain_count": 5,
            "priority": "Regular",
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "resilient_vm_creation_enabled": false,
            "resilient_vm_deletion_enabled": false,
            "resource_group_name": "hashistack-servers-rg",
            "rolling_upgrade_policy": [],
            "scale_in": [],
            "secret": [],
            "secure_boot_enabled": false,
            "single_placement_group": true,
            "sku": "Standard_B1ms",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "0001-com-ubuntu-server-jammy",
                "publisher": "Canonical",
                "sku": "22_04-lts",
                "version": "latest"
              }
            ],
            "spot_restore": null,
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack",
              "consul-cluster": "true"
            },
            "termination_notification": null,
            "timeouts": null,
            "unique_id": "5ca37076-5d7f-4e7e-9fee-382ba68f1544",
            "upgrade_mode": "Manual",
            "user_data": "",
            "vtpm_enabled": false,
            "zone_balance": false,
            "zones": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "custom_data"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_lb.core_ilb",
            "azurerm_lb_backend_address_pool.core_pool",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_user_assigned_identity.core_identity",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_linux_virtual_machine_scale_set",
      "name": "vault_vmss",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_capabilities": [],
            "admin_password": "YourStrongPassword!ChangeMe123",
            "admin_ssh_key": [
              {
                "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxzCpD2oQJ3N25HTMGIPizyFZ14WEHNXXHT6RmjKnZkczoOuSoKwROvZOJs9P87RCEYRFtISJERqyA3KmvuOgaHZsD3VCpeloVKFmTuKjnZ6NwCegtqcb4YcF7n8qlDbrdyHa8hfgguJAti0XFjckTaC2B/PrDuMLxzxCyMimLLcvEZGBPU2Bou8zlnD4vX+KfHqP1brxzF0OayYqdM5ik8V7iVXbBULKuuE0J9tjvX5M4OlD4CDJjzSL+0jTgPlx7X9FtFG8sw/2NsOnsISK62oVTqmMjMXmnboOW8bQtprVP+eR9TfkyunQUTFFJaG6ViisdzwywiwaTlmYXGRj9++yFJDmGg/4efUOhwsotODBTfZEEEudnlZ1XCnzqBGBQHMib//nzlAotGCsWM5e5wEUFpcFsJh1PDLntM8hUmzxVArdGAgj4AWdJduwoGcfQiT/vYyqrdjtik20oluNBN0Xid1oK/X4lFnvUVdYbAN/UqgVhJEtc5L/6v6sY6N60bUvHeogz2W5rspIahVBTZdl25hNzwXkZs1Zj6Ha9K1Vr95R5ZiLt/U1lgofNrSxKv21hrFAjnt3y8eyhiXuGy4pxssnwU3Er16XzLaJ0KeBnsCyl383nQpCDCON10ox7l81gPLr1YgLs0ZA+4xrUsqoFhuhY5RaSRirAcVvHLQ==",
                "username": "adminuser"
              }
            ],
            "admin_username": "adminuser",
            "automatic_instance_repair": [],
            "automatic_os_upgrade_policy": [],
            "boot_diagnostics": [],
            "capacity_reservation_group_id": "",
            "computer_name_prefix": "hashistack-vault-vmss",
            "custom_data": "I2Nsb3VkLWNvbmZpZw0KcGFja2FnZV91cGRhdGU6IHRydWUNCg0Kd3JpdGVfZmlsZXM6DQogIC0gcGF0aDogL3Vzci9sb2NhbC9iaW4vaW5zdGFsbF9wcmVyZXFzLnNoDQogICAgcGVybWlzc2lvbnM6ICIwNzU1Ig0KICAgIG93bmVyOiByb290OnJvb3QNCiAgICBjb250ZW50OiB8DQogICAgICAjIS91c3IvYmluL2VudiBiYXNoDQogICAgICBzZXQgLWV1byBwaXBlZmFpbA0KICAgICAgdHJpZXM9MTINCiAgICAgIGRlbGF5PTEwDQogICAgICBpPTENCiAgICAgIHdoaWxlIFsgJGkgLWxlICR0cmllcyBdOyBkbw0KICAgICAgICBpZiBzdWRvIGFwdC1nZXQgdXBkYXRlIC15ICYmIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IGN1cmwgdW56aXAganE7IHRoZW4NCiAgICAgICAgICBleGl0IDANCiAgICAgICAgZmkNCiAgICAgICAgZWNobyAiW2Nsb3VkLWluaXRdIGFwdCBhdHRlbXB0ICRpLyR0cmllcyBmYWlsZWQ7IHJldHJ5aW5nIGluICR7ZGVsYXl9cy4uLiINCiAgICAgICAgc2xlZXAgJGRlbGF5DQogICAgICAgIGk9JCgoaSsxKSkNCiAgICAgIGRvbmUNCiAgICAgIGVjaG8gIltjbG91ZC1pbml0XSBhcHQgaW5zdGFsbCBmYWlsZWQgYWZ0ZXIgcmV0cmllcyIgPiYyDQogICAgICBleGl0IDENCg0KICAtIHBhdGg6IC91c3IvbG9jYWwvYmluL2luc3RhbGxfdmF1bHQuc2gNCiAgICBwZXJtaXNzaW9uczogIjA3NTUiDQogICAgb3duZXI6IHJvb3Q6cm9vdA0KICAgIGNvbnRlbnQ6IHwNCiAgICAgICMhL3Vzci9iaW4vZW52IGJhc2gNCiAgICAgIHNldCAtZXVvIHBpcGVmYWlsDQoNCiAgICAgIFZBVUxUX1ZFUlNJT049IjEuMTUuNiINCiAgICAgIFZBVUxUX1VTRVI9InZhdWx0Ig0KICAgICAgVkFVTFRfR1JPVVA9InZhdWx0Ig0KICAgICAgVkFVTFRfREFUQV9ESVI9Ii9vcHQvdmF1bHQvZGF0YSINCg0KICAgICAgIyBJZiBhcGkvY2x1c3RlciBhZGRycyBhcmUgZW1wdHksIGRlcml2ZSBmcm9tIHByaW1hcnkgSVAgYXQgYm9vdA0KICAgICAgUFJJTUFSWV9JUD0iJChob3N0bmFtZSAtSSB8IGF3ayAne3ByaW50ICQxfScpIg0KICAgICAgQVBJX0FERFI9Imh0dHA6Ly8xMC4wLjEuNDo4MjAwIg0KICAgICAgQ0xVU1RFUl9BRERSPSIiDQogICAgICBpZiBbIC16ICIke0FQSV9BRERSfSIgXTsgdGhlbiBBUElfQUREUj0iaHR0cDovLyR7UFJJTUFSWV9JUH06ODIwMCI7IGZpDQogICAgICBpZiBbIC16ICIke0NMVVNURVJfQUREUn0iIF07IHRoZW4gQ0xVU1RFUl9BRERSPSJodHRwOi8vJHtQUklNQVJZX0lQfTo4MjAxIjsgZmkNCg0KICAgICAgQVpfVEVOQU5UX0lEPSJiOTM1YTBjZS03YjcwLTRmZDAtOGM2Ni1mZjA2NzgzMzQwNzciDQogICAgICBBWl9LRVlWQVVMVF9OQU1FPSJrdi1oYXNoaXN0YWNrLTJqZGEiDQogICAgICBBWl9LRVlfTkFNRT0idmF1bHQtdW5zZWFsLWtleSINCg0KICAgICAgVkFVTFRfVExTX0RJU0FCTEU9IjEiDQoNCiAgICAgIGluc3RhbGxfdmF1bHQoKSB7DQogICAgICAgIGlmIGNvbW1hbmQgLXYgdmF1bHQgPi9kZXYvbnVsbCAyPiYxOyB0aGVuDQogICAgICAgICAgZWNobyAiW2Nsb3VkLWluaXRdIFZhdWx0IGFscmVhZHkgaW5zdGFsbGVkOiAkKHZhdWx0IHZlcnNpb24pIg0KICAgICAgICAgIHJldHVybg0KICAgICAgICBmaQ0KICAgICAgICBlY2hvICJbY2xvdWQtaW5pdF0gSW5zdGFsbGluZyBWYXVsdCAke1ZBVUxUX1ZFUlNJT059Li4uIg0KICAgICAgICBjZCAvdG1wDQogICAgICAgIGN1cmwgLWZzU0xPICJodHRwczovL3JlbGVhc2VzLmhhc2hpY29ycC5jb20vdmF1bHQvJHtWQVVMVF9WRVJTSU9OfS92YXVsdF8ke1ZBVUxUX1ZFUlNJT059X2xpbnV4X2FtZDY0LnppcCINCiAgICAgICAgdW56aXAgLW8gInZhdWx0XyR7VkFVTFRfVkVSU0lPTn1fbGludXhfYW1kNjQuemlwIiAtZCAvdXNyL2xvY2FsL2Jpbg0KICAgICAgICBjaG1vZCAwNzU1IC91c3IvbG9jYWwvYmluL3ZhdWx0DQogICAgICAgIHNldGNhcCBjYXBfaXBjX2xvY2s9K2VwIC91c3IvbG9jYWwvYmluL3ZhdWx0DQogICAgICAgIHJtIC1mICJ2YXVsdF8ke1ZBVUxUX1ZFUlNJT059X2xpbnV4X2FtZDY0LnppcCINCg0KICAgICAgICBpZCAtdSAiJHtWQVVMVF9VU0VSfSIgPi9kZXYvbnVsbCAyPiYxIHx8IHVzZXJhZGQgLS1zeXN0ZW0gLS1ob21lIC9ldGMvdmF1bHQuZCAtLXNoZWxsIC9iaW4vZmFsc2UgIiR7VkFVTFRfVVNFUn0iDQogICAgICAgIG1rZGlyIC1wIC9ldGMvdmF1bHQuZCAiJHtWQVVMVF9EQVRBX0RJUn0iDQogICAgICAgIGNob3duIC1SICIke1ZBVUxUX1VTRVJ9OiR7VkFVTFRfR1JPVVB9IiAvZXRjL3ZhdWx0LmQgIiR7VkFVTFRfREFUQV9ESVJ9Ig0KICAgICAgICBjaG1vZCAwNzUwIC9ldGMvdmF1bHQuZCAiJHtWQVVMVF9EQVRBX0RJUn0iDQogICAgICB9DQoNCiAgICAgIHdyaXRlX2NvbmZpZygpIHsNCiAgICAgICAgY2F0ID4vZXRjL3ZhdWx0LmQvdmF1bHQuaGNsIDw8RU9GDQogICAgICB1aSA9IHRydWUNCiAgICAgIGRpc2FibGVfbWxvY2sgPSB0cnVlDQoNCiAgICAgIGFwaV9hZGRyICAgICA9ICIke0FQSV9BRERSfSINCiAgICAgIGNsdXN0ZXJfYWRkciA9ICIke0NMVVNURVJfQUREUn0iDQoNCiAgICAgIHN0b3JhZ2UgInJhZnQiIHsNCiAgICAgICAgcGF0aCAgICA9ICIke1ZBVUxUX0RBVEFfRElSfSINCiAgICAgICAgbm9kZV9pZCA9ICIkKGhvc3RuYW1lIC1zKSINCiAgICAgIH0NCiAgICAgIEVPRg0KDQogICAgICAgIGlmIFsgIiR7VkFVTFRfVExTX0RJU0FCTEV9IiA9ICIxIiBdOyB0aGVuDQogICAgICAgICAgY2F0ID4+L2V0Yy92YXVsdC5kL3ZhdWx0LmhjbCA8PCdFT0YnDQogICAgICBsaXN0ZW5lciAidGNwIiB7DQogICAgICAgIGFkZHJlc3MgICAgICAgICA9ICIwLjAuMC4wOjgyMDAiDQogICAgICAgIGNsdXN0ZXJfYWRkcmVzcyA9ICIwLjAuMC4wOjgyMDEiDQogICAgICAgIHRsc19kaXNhYmxlICAgICA9ICIxIg0KICAgICAgfQ0KICAgICAgRU9GDQogICAgICAgIGVsc2UNCiAgICAgICAgICA6ICIke1ZBVUxUX1RMU19DRVJUX0ZJTEU6P1ZBVUxUX1RMU19DRVJUX0ZJTEUgbm90IHNldH0iDQogICAgICAgICAgOiAiJHtWQVVMVF9UTFNfS0VZX0ZJTEU6P1ZBVUxUX1RMU19LRVlfRklMRSBub3Qgc2V0fSINCiAgICAgICAgICBjYXQgPj4vZXRjL3ZhdWx0LmQvdmF1bHQuaGNsIDw8RU9GDQogICAgICBsaXN0ZW5lciAidGNwIiB7DQogICAgICAgIGFkZHJlc3MgICAgICAgICA9ICIwLjAuMC4wOjgyMDAiDQogICAgICAgIGNsdXN0ZXJfYWRkcmVzcyA9ICIwLjAuMC4wOjgyMDEiDQogICAgICAgIHRsc19kaXNhYmxlICAgICA9ICIwIg0KICAgICAgICB0bHNfY2VydF9maWxlICAgPSAiJHtWQVVMVF9UTFNfQ0VSVF9GSUxFfSINCiAgICAgICAgdGxzX2tleV9maWxlICAgID0gIiR7VkFVTFRfVExTX0tFWV9GSUxFfSINCiAgICAgIH0NCiAgICAgIEVPRg0KICAgICAgICBmaQ0KDQogICAgICAgIGNhdCA+Pi9ldGMvdmF1bHQuZC92YXVsdC5oY2wgPDxFT0YNCg0KICAgICAgc2VhbCAiYXp1cmVrZXl2YXVsdCIgew0KICAgICAgICB0ZW5hbnRfaWQgID0gImI5MzVhMGNlLTdiNzAtNGZkMC04YzY2LWZmMDY3ODMzNDA3NyINCiAgICAgICAgdmF1bHRfbmFtZSA9ICJrdi1oYXNoaXN0YWNrLTJqZGEiDQogICAgICAgIGtleV9uYW1lICAgPSAidmF1bHQtdW5zZWFsLWtleSINCiAgICAgIH0NCiAgICAgIEVPRg0KDQogICAgICAgIGNob3duIC1SICIke1ZBVUxUX1VTRVJ9OiR7VkFVTFRfR1JPVVB9IiAvZXRjL3ZhdWx0LmQNCiAgICAgICAgY2htb2QgMDY0MCAvZXRjL3ZhdWx0LmQvdmF1bHQuaGNsDQogICAgICB9DQoNCiAgICAgIHdyaXRlX3N5c3RlbWQoKSB7DQogICAgICAgIGNhdCA+L2V0Yy9zeXN0ZW1kL3N5c3RlbS92YXVsdC5zZXJ2aWNlIDw8J0VPRicNCiAgICAgIFtVbml0XQ0KICAgICAgRGVzY3JpcHRpb249SGFzaGlDb3JwIFZhdWx0DQogICAgICBEb2N1bWVudGF0aW9uPWh0dHBzOi8vd3d3LnZhdWx0cHJvamVjdC5pby9kb2NzLw0KICAgICAgUmVxdWlyZXM9bmV0d29yay1vbmxpbmUudGFyZ2V0DQogICAgICBBZnRlcj1uZXR3b3JrLW9ubGluZS50YXJnZXQNCg0KICAgICAgW1NlcnZpY2VdDQogICAgICBVc2VyPXZhdWx0DQogICAgICBHcm91cD12YXVsdA0KICAgICAgUHJvdGVjdFN5c3RlbT1mdWxsDQogICAgICBQcm90ZWN0SG9tZT1yZWFkLW9ubHkNCiAgICAgIFByaXZhdGVUbXA9eWVzDQogICAgICBQcml2YXRlRGV2aWNlcz15ZXMNCiAgICAgIFNlY3VyZUJpdHM9a2VlcC1jYXBzDQogICAgICBBbWJpZW50Q2FwYWJpbGl0aWVzPUNBUF9JUENfTE9DSw0KICAgICAgQ2FwYWJpbGl0eUJvdW5kaW5nU2V0PUNBUF9TWVNMT0cgQ0FQX0lQQ19MT0NLDQogICAgICBOb05ld1ByaXZpbGVnZXM9dHJ1ZQ0KICAgICAgRXhlY1N0YXJ0PS91c3IvbG9jYWwvYmluL3ZhdWx0IHNlcnZlciAtY29uZmlnPS9ldGMvdmF1bHQuZC92YXVsdC5oY2wNCiAgICAgIEV4ZWNSZWxvYWQ9L2Jpbi9raWxsIC0tc2lnbmFsIEhVUCAkTUFJTlBJRA0KICAgICAgUmVzdGFydD1vbi1mYWlsdXJlDQogICAgICBSZXN0YXJ0U2VjPTUNCiAgICAgIExpbWl0TUVNTE9DSz1pbmZpbml0eQ0KICAgICAgU3RhcnRMaW1pdEludGVydmFsU2VjPTYwDQogICAgICBTdGFydExpbWl0QnVyc3Q9Mw0KDQogICAgICBbSW5zdGFsbF0NCiAgICAgIFdhbnRlZEJ5PW11bHRpLXVzZXIudGFyZ2V0DQogICAgICBFT0YNCg0KICAgICAgICBzeXN0ZW1jdGwgZGFlbW9uLXJlbG9hZA0KICAgICAgICBzeXN0ZW1jdGwgZW5hYmxlIHZhdWx0DQogICAgICB9DQoNCiAgICAgIG1haW4oKSB7DQogICAgICAgIGluc3RhbGxfdmF1bHQNCiAgICAgICAgd3JpdGVfY29uZmlnDQogICAgICAgIHdyaXRlX3N5c3RlbWQNCiAgICAgICAgc3lzdGVtY3RsIHN0YXJ0IHZhdWx0IHx8IHRydWUNCiAgICAgIH0NCg0KICAgICAgbWFpbg0KDQpydW5jbWQ6DQogIC0gWyBiYXNoLCAtbGMsICIvdXNyL2xvY2FsL2Jpbi9pbnN0YWxsX3ByZXJlcXMuc2giIF0NCiAgLSBbIGJhc2gsIC1sYywgIi91c3IvbG9jYWwvYmluL2luc3RhbGxfdmF1bHQuc2giIF0=",
            "data_disk": [],
            "disable_password_authentication": false,
            "do_not_run_extensions_on_overprovisioned_machines": false,
            "edge_zone": "",
            "encryption_at_host_enabled": false,
            "eviction_policy": "",
            "extension": [],
            "extension_operations_enabled": true,
            "extensions_time_budget": "PT1H30M",
            "gallery_application": [],
            "health_probe_id": "",
            "host_group_id": null,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachineScaleSets/hashistack-vault-vmss",
            "identity": [
              {
                "identity_ids": [
                  "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/hashistack-vault-mi"
                ],
                "principal_id": "",
                "tenant_id": "",
                "type": "UserAssigned"
              }
            ],
            "instances": 3,
            "location": "westeurope",
            "max_bid_price": -1,
            "name": "hashistack-vault-vmss",
            "network_interface": [
              {
                "auxiliary_mode": "",
                "auxiliary_sku": "",
                "dns_servers": [],
                "enable_accelerated_networking": false,
                "enable_ip_forwarding": false,
                "ip_configuration": [
                  {
                    "application_gateway_backend_address_pool_ids": [],
                    "application_security_group_ids": [],
                    "load_balancer_backend_address_pool_ids": [
                      "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/loadBalancers/hashistack-vault-ilb/backendAddressPools/vault-bep"
                    ],
                    "load_balancer_inbound_nat_rules_ids": [],
                    "name": "vault-ipcfg",
                    "primary": true,
                    "public_ip_address": [],
                    "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
                    "version": "IPv4"
                  }
                ],
                "name": "vault-nic",
                "network_security_group_id": "",
                "primary": true
              }
            ],
            "os_disk": [
              {
                "caching": "ReadWrite",
                "diff_disk_settings": [],
                "disk_encryption_set_id": "",
                "disk_size_gb": 30,
                "secure_vm_disk_encryption_set_id": "",
                "security_encryption_type": "",
                "storage_account_type": "Standard_LRS",
                "write_accelerator_enabled": false
              }
            ],
            "overprovision": true,
            "plan": [],
            "platform_fault_domain_count": 5,
            "priority": "Regular",
            "provision_vm_agent": true,
            "proximity_placement_group_id": "",
            "resilient_vm_creation_enabled": false,
            "resilient_vm_deletion_enabled": false,
            "resource_group_name": "hashistack-servers-rg",
            "rolling_upgrade_policy": [],
            "scale_in": [],
            "secret": [],
            "secure_boot_enabled": false,
            "single_placement_group": true,
            "sku": "Standard_B1ms",
            "source_image_id": "",
            "source_image_reference": [
              {
                "offer": "0001-com-ubuntu-server-jammy",
                "publisher": "Canonical",
                "sku": "22_04-lts",
                "version": "latest"
              }
            ],
            "spot_restore": [],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "termination_notification": [],
            "timeouts": null,
            "unique_id": "e7039a47-36f9-430f-81ca-32769ef9e27b",
            "upgrade_mode": "Manual",
            "user_data": "",
            "vtpm_enabled": false,
            "zone_balance": false,
            "zones": []
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "admin_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "custom_data"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_key_vault.unseal_kv",
            "azurerm_lb.vault_ilb",
            "azurerm_lb_backend_address_pool.vault_pool",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.vault_subnet",
            "azurerm_user_assigned_identity.vault_identity",
            "azurerm_virtual_network.server_vnet",
            "data.azurerm_client_config.current",
            "random_string.unique"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_nat_gateway",
      "name": "nat_gw",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/natGateways/hashistack-nat-gw",
            "idle_timeout_in_minutes": 4,
            "location": "westeurope",
            "name": "hashistack-nat-gw",
            "resource_group_name": "hashistack-servers-rg",
            "resource_guid": "dc6f493e-3473-4235-aa61-03cda9e8472d",
            "sku_name": "Standard",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-nat-gw",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_nat_gateway_public_ip_association",
      "name": "nat_gw_pip_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/natGateways/hashistack-nat-gw|/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/publicIPAddresses/hashistack-nat-pip",
            "nat_gateway_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/natGateways/hashistack-nat-gw",
            "public_ip_address_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/publicIPAddresses/hashistack-nat-pip",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_nat_gateway.nat_gw",
            "azurerm_public_ip.nat_pip",
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface",
      "name": "jump_nic",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "accelerated_networking_enabled": false,
            "applied_dns_servers": [],
            "auxiliary_mode": "",
            "auxiliary_sku": "",
            "dns_servers": [],
            "edge_zone": "",
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkInterfaces/hashistack-jump-nic",
            "internal_dns_name_label": "",
            "internal_domain_name_suffix": "2aglfidcykienj14o4zb1lf3bb.ax.internal.cloudapp.net",
            "ip_configuration": [
              {
                "gateway_load_balancer_frontend_ip_configuration_id": "",
                "name": "ipconfig1",
                "primary": true,
                "private_ip_address": "10.0.1.5",
                "private_ip_address_allocation": "Dynamic",
                "private_ip_address_version": "IPv4",
                "public_ip_address_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/publicIPAddresses/hashistack-jump-pip",
                "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet"
              }
            ],
            "ip_forwarding_enabled": false,
            "location": "westeurope",
            "mac_address": "00-0D-3A-2F-3C-B6",
            "name": "hashistack-jump-nic",
            "private_ip_address": "10.0.1.5",
            "private_ip_addresses": [
              "10.0.1.5"
            ],
            "resource_group_name": "hashistack-servers-rg",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null,
            "virtual_machine_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Compute/virtualMachines/hashistack-jump-vm"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-jump-nic",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_public_ip.jump_pip",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_interface_security_group_association",
      "name": "jump_nic_nsg_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkInterfaces/hashistack-jump-nic|/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-jump-nsg",
            "network_interface_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkInterfaces/hashistack-jump-nic",
            "network_security_group_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-jump-nsg",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_interface.jump_nic",
            "azurerm_network_security_group.jump_nsg",
            "azurerm_public_ip.jump_pip",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "client_nsgs",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-dc1-client-nsg",
            "location": "westeurope",
            "name": "hashistack-dc1-client-nsg",
            "resource_group_name": "hashistack-dc1-rg",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.0.2.0/24",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowOutboundToCore",
                "priority": 300,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-dc1-client-nsg",
            "resource_group_name": "hashistack-dc1-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs"
          ]
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-dc2-client-nsg",
            "location": "westeurope",
            "name": "hashistack-dc2-client-nsg",
            "resource_group_name": "hashistack-dc2-rg",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.0.2.0/24",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowOutboundToCore",
                "priority": 300,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-dc2-client-nsg",
            "resource_group_name": "hashistack-dc2-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "core_nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-core-nsg",
            "location": "westeurope",
            "name": "hashistack-core-nsg",
            "resource_group_name": "hashistack-servers-rg",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "22",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowSSHFromAdmin",
                "priority": 100,
                "protocol": "Tcp",
                "source_address_prefix": "",
                "source_address_prefixes": [
                  "20.93.142.26",
                  "212.114.159.234",
                  "88.64.185.12"
                ],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.0.2.0/24",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowIntraCoreSubnet",
                "priority": 120,
                "protocol": "*",
                "source_address_prefix": "10.0.2.0/24",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-core-nsg",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "jump_nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-jump-nsg",
            "location": "westeurope",
            "name": "hashistack-jump-nsg",
            "resource_group_name": "hashistack-servers-rg",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "22",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowSSHFromAdmin",
                "priority": 100,
                "protocol": "Tcp",
                "source_address_prefix": "",
                "source_address_prefixes": [
                  "20.93.142.26",
                  "212.114.159.234",
                  "88.64.185.12"
                ],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-jump-nsg",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "vault_nsg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-vault-nsg",
            "location": "westeurope",
            "name": "hashistack-vault-nsg",
            "resource_group_name": "hashistack-servers-rg",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "22",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowSSHFromAdmin",
                "priority": 100,
                "protocol": "Tcp",
                "source_address_prefix": "",
                "source_address_prefixes": [
                  "20.93.142.26",
                  "212.114.159.234",
                  "88.64.185.12"
                ],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "10.0.1.0/24",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowIntraVaultSubnet",
                "priority": 120,
                "protocol": "*",
                "source_address_prefix": "10.0.1.0/24",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-vault-nsg",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "jump_pip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "domain_name_label_scope": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/publicIPAddresses/hashistack-jump-pip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "172.211.73.167",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "westeurope",
            "name": "hashistack-jump-pip",
            "public_ip_prefix_id": null,
            "resource_group_name": "hashistack-servers-rg",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_public_ip",
      "name": "nat_pip",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_method": "Static",
            "ddos_protection_mode": "VirtualNetworkInherited",
            "ddos_protection_plan_id": null,
            "domain_name_label": null,
            "domain_name_label_scope": null,
            "edge_zone": "",
            "fqdn": null,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/publicIPAddresses/hashistack-nat-pip",
            "idle_timeout_in_minutes": 4,
            "ip_address": "13.95.144.52",
            "ip_tags": {},
            "ip_version": "IPv4",
            "location": "westeurope",
            "name": "hashistack-nat-pip",
            "public_ip_prefix_id": null,
            "resource_group_name": "hashistack-servers-rg",
            "reverse_fqdn": null,
            "sku": "Standard",
            "sku_tier": "Regional",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null,
            "zones": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "clients_rgs",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg",
            "location": "westeurope",
            "managed_by": "",
            "name": "hashistack-dc1-rg",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg",
            "location": "westeurope",
            "managed_by": "",
            "name": "hashistack-dc2-rg",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "servers_rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg",
            "location": "westeurope",
            "managed_by": "",
            "name": "hashistack-servers-rg",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "client_subnets",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.10.1.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet/subnets/client-dc1-subnet",
            "ip_address_pool": [],
            "name": "client-dc1-subnet",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "hashistack-dc1-rg",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "hashistack-dc1-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "client-dc1-subnet",
            "resource_group_name": "hashistack-dc1-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda",
            "virtual_network_name": "hashistack-dc1-vnet"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_virtual_network.client_vnets"
          ]
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.20.1.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet/subnets/client-dc2-subnet",
            "ip_address_pool": [],
            "name": "client-dc2-subnet",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "hashistack-dc2-rg",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "hashistack-dc2-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "client-dc2-subnet",
            "resource_group_name": "hashistack-dc2-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda",
            "virtual_network_name": "hashistack-dc2-vnet"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_virtual_network.client_vnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "core_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.2.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
            "ip_address_pool": [],
            "name": "core-subnet",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "hashistack-servers-rg",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "hashistack-server-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "core-subnet",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda",
            "virtual_network_name": "hashistack-server-vnet"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "vault_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.1.0/24"
            ],
            "default_outbound_access_enabled": true,
            "delegation": [],
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
            "ip_address_pool": [],
            "name": "vault-subnet",
            "private_endpoint_network_policies": "Disabled",
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "hashistack-servers-rg",
            "service_endpoint_policy_ids": [],
            "service_endpoints": [],
            "sharing_scope": "",
            "timeouts": null,
            "virtual_network_name": "hashistack-server-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "vault-subnet",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda",
            "virtual_network_name": "hashistack-server-vnet"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_nat_gateway_association",
      "name": "core_subnet_nat_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
            "nat_gateway_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/natGateways/hashistack-nat-gw",
            "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_nat_gateway.nat_gw",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_nat_gateway_association",
      "name": "vault_subnet_nat_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
            "nat_gateway_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/natGateways/hashistack-nat-gw",
            "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_nat_gateway.nat_gw",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "client_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet/subnets/client-dc1-subnet",
            "network_security_group_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-dc1-client-nsg",
            "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet/subnets/client-dc1-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.client_nsgs",
            "azurerm_resource_group.clients_rgs",
            "azurerm_subnet.client_subnets",
            "azurerm_virtual_network.client_vnets"
          ]
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet/subnets/client-dc2-subnet",
            "network_security_group_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-dc2-client-nsg",
            "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet/subnets/client-dc2-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.client_nsgs",
            "azurerm_resource_group.clients_rgs",
            "azurerm_subnet.client_subnets",
            "azurerm_virtual_network.client_vnets"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "core_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
            "network_security_group_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-core-nsg",
            "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.core_nsg",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.core_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "vault_assoc",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
            "network_security_group_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-vault-nsg",
            "subnet_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_network_security_group.vault_nsg",
            "azurerm_resource_group.servers_rg",
            "azurerm_subnet.vault_subnet",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "core_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "client_id": "386b340c-3520-4f46-af05-9de49ecede36",
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/hashistack-core-mi",
            "location": "westeurope",
            "name": "hashistack-core-mi",
            "principal_id": "44a8096c-7b11-4c65-a28f-959044b9d7f4",
            "resource_group_name": "hashistack-servers-rg",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_user_assigned_identity",
      "name": "vault_identity",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "client_id": "2c035cc6-6bdf-4c92-806e-008afa40ab04",
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/hashistack-vault-mi",
            "location": "westeurope",
            "name": "hashistack-vault-mi",
            "principal_id": "dc750f07-3cca-4e88-a65c-15285b34f7a3",
            "resource_group_name": "hashistack-servers-rg",
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "tenant_id": "b935a0ce-7b70-4fd0-8c66-ff0678334077",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "client_vnets",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.10.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "f10ff9b0-8ecb-43cd-a015-3ea369f82c3f",
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet",
            "ip_address_pool": [],
            "location": "westeurope",
            "name": "hashistack-dc1-vnet",
            "private_endpoint_vnet_policies": "Disabled",
            "resource_group_name": "hashistack-dc1-rg",
            "subnet": [
              {
                "address_prefixes": [
                  "10.10.1.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet/subnets/client-dc1-subnet",
                "name": "client-dc1-subnet",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-dc1-client-nsg",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-dc1-vnet",
            "resource_group_name": "hashistack-dc1-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs"
          ]
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.20.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "764ff10d-e6d0-4366-b595-f4dbcc69456c",
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet",
            "ip_address_pool": [],
            "location": "westeurope",
            "name": "hashistack-dc2-vnet",
            "private_endpoint_vnet_policies": "Disabled",
            "resource_group_name": "hashistack-dc2-rg",
            "subnet": [
              {
                "address_prefixes": [
                  "10.20.1.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet/subnets/client-dc2-subnet",
                "name": "client-dc2-subnet",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-dc2-client-nsg",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-dc2-vnet",
            "resource_group_name": "hashistack-dc2-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "server_vnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.0.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "a0b20ce0-c262-4690-a77e-77b21dacbd09",
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet",
            "ip_address_pool": [],
            "location": "westeurope",
            "name": "hashistack-server-vnet",
            "private_endpoint_vnet_policies": "Disabled",
            "resource_group_name": "hashistack-servers-rg",
            "subnet": [
              {
                "address_prefixes": [
                  "10.0.1.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/vault-subnet",
                "name": "vault-subnet",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-vault-nsg",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              },
              {
                "address_prefixes": [
                  "10.0.2.0/24"
                ],
                "default_outbound_access_enabled": true,
                "delegation": [],
                "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/subnets/core-subnet",
                "name": "core-subnet",
                "private_endpoint_network_policies": "Disabled",
                "private_link_service_network_policies_enabled": true,
                "route_table_id": "",
                "security_group": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/networkSecurityGroups/hashistack-core-nsg",
                "service_endpoint_policy_ids": [],
                "service_endpoints": []
              }
            ],
            "tags": {
              "CostCenter": "SpikeReply",
              "Environment": "dev",
              "ManagedBy": "Terraform - Majdi",
              "Project": "hashistack"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "hashistack-server-vnet",
            "resource_group_name": "hashistack-servers-rg",
            "subscription_id": "f8cea8db-c84b-44eb-aa67-f8c938abbfda"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.servers_rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_peering",
      "name": "clients_to_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": false,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet/virtualNetworkPeerings/peer-dc1-to-servers",
            "local_subnet_names": [],
            "name": "peer-dc1-to-servers",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet",
            "resource_group_name": "hashistack-dc1-rg",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "hashistack-dc1-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_resource_group.servers_rg",
            "azurerm_virtual_network.client_vnets",
            "azurerm_virtual_network.server_vnet"
          ]
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": false,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet/virtualNetworkPeerings/peer-dc2-to-servers",
            "local_subnet_names": [],
            "name": "peer-dc2-to-servers",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet",
            "resource_group_name": "hashistack-dc2-rg",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "hashistack-dc2-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_resource_group.servers_rg",
            "azurerm_virtual_network.client_vnets",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_virtual_network_peering",
      "name": "server_to_clients",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "index_key": "dc1",
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": false,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/virtualNetworkPeerings/peer-servers-to-dc1",
            "local_subnet_names": [],
            "name": "peer-servers-to-dc1",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc1-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc1-vnet",
            "resource_group_name": "hashistack-servers-rg",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "hashistack-server-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_resource_group.servers_rg",
            "azurerm_virtual_network.client_vnets",
            "azurerm_virtual_network.server_vnet"
          ]
        },
        {
          "index_key": "dc2",
          "schema_version": 0,
          "attributes": {
            "allow_forwarded_traffic": false,
            "allow_gateway_transit": false,
            "allow_virtual_network_access": true,
            "id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-servers-rg/providers/Microsoft.Network/virtualNetworks/hashistack-server-vnet/virtualNetworkPeerings/peer-servers-to-dc2",
            "local_subnet_names": [],
            "name": "peer-servers-to-dc2",
            "only_ipv6_peering_enabled": false,
            "peer_complete_virtual_networks_enabled": true,
            "remote_subnet_names": [],
            "remote_virtual_network_id": "/subscriptions/f8cea8db-c84b-44eb-aa67-f8c938abbfda/resourceGroups/hashistack-dc2-rg/providers/Microsoft.Network/virtualNetworks/hashistack-dc2-vnet",
            "resource_group_name": "hashistack-servers-rg",
            "timeouts": null,
            "triggers": null,
            "use_remote_gateways": false,
            "virtual_network_name": "hashistack-server-vnet"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.clients_rgs",
            "azurerm_resource_group.servers_rg",
            "azurerm_virtual_network.client_vnets",
            "azurerm_virtual_network.server_vnet"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "unique",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "2jda",
            "keepers": null,
            "length": 4,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "2jda",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "time_sleep",
      "name": "kv_ap_delay",
      "provider": "provider[\"registry.terraform.io/hashicorp/time\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "create_duration": "20s",
            "destroy_duration": null,
            "id": "2025-10-27T09:14:47Z",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "azurerm_key_vault.unseal_kv",
            "azurerm_key_vault_access_policy.operator_ap",
            "azurerm_key_vault_access_policy.vault_mi_ap",
            "azurerm_resource_group.servers_rg",
            "azurerm_user_assigned_identity.vault_identity",
            "data.azurerm_client_config.current",
            "random_string.unique"
          ]
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "var.jump_host_subnet",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.jump_host_subnet",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.vault_instance_count",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.vault_instance_count",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "var.core_instance_count",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.core_instance_count",
          "status": "pass"
        }
      ]
    }
  ]
}
